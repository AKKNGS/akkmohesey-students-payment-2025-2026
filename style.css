:root {
    --primary: #4a90e2;
    --bg-color: #f4f7fa;
    --card-bg: #ffffff;
    --text-main: #333;
    --text-sec: #666;
    --shadow: 0 4px 6px rgba(0,0,0,0.05);
}

[data-theme="dark"] {
    --bg-color: #1a1a2e;
    --card-bg: #16213e;
    --text-main: #e0e0e0;
    --text-sec: #a0a0a0;
    --shadow: 0 4px 6px rgba(0,0,0,0.3);
}

* { box-sizing: border-box; }
body { margin: 0; font-family: 'Poppins', 'Battambang', sans-serif; background: var(--bg-color); color: var(--text-main); height: 100vh; display: flex; overflow: hidden; }

/* === LOGIN OVERLAY === */
#loginOverlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #1a1a2e; z-index: 9999;
    display: flex; justify-content: center; align-items: center;
}
.login-box {
    background: white; padding: 40px; border-radius: 15px; width: 350px; text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}
.login-box h2 { color: #4a90e2; margin-top: 0; }
.input-group {
    display: flex; align-items: center; border: 1px solid #ddd; padding: 10px; border-radius: 8px; margin-bottom: 15px;
}
.input-group i { color: #888; margin-right: 10px; width: 20px; }
.input-group input { border: none; outline: none; width: 100%; font-size: 16px; }
.login-btn {
    width: 100%; padding: 12px; background: #4a90e2; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; font-weight: bold; transition: 0.3s;
}
.login-btn:hover { background: #357abd; }
#loginError { color: red; margin-top: 10px; display: none; font-size: 14px; }
.login-note { margin-top: 20px; font-size: 12px; color: #666; text-align: left; background: #f9f9f9; padding: 10px; border-radius: 5px; }

/* === MAIN LAYOUT === */
.container { display: flex; width: 100%; height: 100%; }

/* Sidebar */
.sidebar {
    width: 260px; background: var(--card-bg); padding: 20px; box-shadow: 2px 0 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; flex-shrink: 0;
}
.sidebar .logo h2 { color: var(--primary); margin-bottom: 30px; }
.nav-item { padding: 15px; margin-bottom: 10px; border-radius: 10px; cursor: pointer; color: var(--text-sec); display: flex; align-items: center; transition: 0.3s; }
.nav-item:hover, .nav-item.active { background: var(--primary); color: #fff; }
.nav-item i { margin-right: 15px; width: 25px; text-align: center; }
.logout-section { margin-top: auto; border-top: 1px solid #eee; padding-top: 10px; }
.logout-btn { color: #e74c3c !important; }
.logout-btn:hover { background: #e74c3c !important; color: white !important; }

/* Main Content */
.main-content { flex: 1; padding: 30px; overflow-y: auto; position: relative; }

/* Cards Grid */
.cards-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 30px;
}
@media (max-width: 1024px) { .cards-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 768px) { .cards-grid { grid-template-columns: 1fr; } .sidebar { display: none; } }

.card {
    background: var(--card-bg); padding: 25px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow);
}
.card-info h3 { font-size: 14px; color: var(--text-sec); margin: 0 0 10px 0; }
.card-info h2 { font-size: 22px; margin: 0; font-weight: 700; }
.card-icon { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 20px; flex-shrink: 0; }

.blue { background: #3498db; } .green { background: #2ecc71; } .orange { background: #f1c40f; } .purple { background: #9b59b6; } .teal { background: #1abc9c; } .red { background: #e74c3c; }

/* Table */
.table-container { background: var(--card-bg); padding: 20px; border-radius: 15px; box-shadow: var(--shadow); overflow-x: auto; }
table { width: 100%; border-collapse: collapse; min-width: 900px; }
th, td { padding: 15px; text-align: left; border-bottom: 1px solid #eee; white-space: nowrap; }
[data-theme="dark"] th, [data-theme="dark"] td { border-bottom: 1px solid #333; }

.status-paid { color: #2ecc71; background: rgba(46, 204, 113, 0.1); padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 12px; }
.status-partial { color: #f1c40f; background: rgba(241, 196, 15, 0.1); padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 12px; }

/* Pagination */
.pagination-container { display: flex; justify-content: center; align-items: center; margin-top: 20px; gap: 15px; }
.pagination-container button { padding: 8px 16px; background: var(--card-bg); border: 1px solid #ddd; border-radius: 5px; cursor: pointer; color: var(--text-main); font-weight: bold; transition: 0.3s; }
.pagination-container button:hover { background: var(--primary); color: white; border-color: var(--primary); }
.pagination-container button:disabled { opacity: 0.5; cursor: not-allowed; background: #ccc; }

/* Modal & Form */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
.modal-content { background: var(--card-bg); margin: 5% auto; padding: 30px; border-radius: 15px; width: 90%; max-width: 500px; position: relative; }
.form-group { margin-bottom: 15px; }
.form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; background: var(--card-bg); color: var(--text-main); }
.save-btn { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; }
.edit-btn { background: var(--primary); color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; }
